{
  "_format": "hh-sol-artifact-1",
  "contractName": "AccessControl",
  "sourceName": "contracts/AccessControl.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "accessId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiryTime",
          "type": "uint256"
        }
      ],
      "name": "AccessCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "accessId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        }
      ],
      "name": "AccessDenied",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "accessId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "AccessVerified",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "accessGrants",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiryTime",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "passwordHash",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_ipfsCid",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_durationSeconds",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "_passwordHash",
          "type": "bytes32"
        }
      ],
      "name": "createAccess",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "accessId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_accessId",
          "type": "bytes32"
        }
      ],
      "name": "getAccessGrantDetails",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expiryTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "hasPassword",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_accessId",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "_passwordInput",
          "type": "string"
        }
      ],
      "name": "verifyAccess",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610a7c806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063398de7a714610051578063ae5bef011461007d578063f13cccab1461009e578063fce74aea146100be575b600080fd5b61006461005f36600461061a565b6100e2565b6040516100749493929190610683565b60405180910390f35b61009061008b366004610762565b610207565b604051908152602001610074565b6100b16100ac3660046107b0565b610373565b60405161007491906107f7565b6100d16100cc36600461061a565b610554565b604051610074959493929190610811565b60008181526020819052604081206004810154606091839182919060ff166101485760405162461bcd60e51b815260206004820152601460248201527311dc985b9d08191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b8054600282015460038301546001840180546001600160a01b0390941693909291151590839061017790610854565b80601f01602080910402602001604051908101604052809291908181526020018280546101a390610854565b80156101f05780601f106101c5576101008083540402835291602001916101f0565b820191906000526020600020905b8154815290600101906020018083116101d357829003601f168201915b505050505092509450945094509450509193509193565b60008083116102585760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f73697469766500000000000000604482015260640161013f565b3384428560405160200161026f949392919061088e565b6040516020818303038152906040528051906020012090506000834261029591906108d2565b6040805160a08101825233815260208082018981528284018590526060830188905260016080840181905260008881529283905293909120825181546001600160a01b0319166001600160a01b039091161781559051939450909290918201906102ff9082610948565b506040828101516002830155606083015160038301556080909201516004909101805460ff191691151591909117905551339083907feb87f4561864dd7fd576a0003f6a5c0b611c7d2757e1ca67c05098ccd47da0fe906103639089908690610a08565b60405180910390a3509392505050565b600082815260208190526040902060040154606090839060ff166103d95760405162461bcd60e51b815260206004820152601b60248201527f416363657373206772616e7420646f6573206e6f742065786973740000000000604482015260640161013f565b60008181526020819052604090206002015442106104395760405162461bcd60e51b815260206004820152601860248201527f416363657373206772616e742068617320657870697265640000000000000000604482015260640161013f565b60008481526020819052604090206003810154156104bd578060030154846040516020016104679190610a2a565b60405160208183030381529060405280519060200120146104bd5760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a59081c185cdcdddbdc9960821b604482015260640161013f565b8060010180546104cc90610854565b80601f01602080910402602001604051908101604052809291908181526020018280546104f890610854565b80156105455780601f1061051a57610100808354040283529160200191610545565b820191906000526020600020905b81548152906001019060200180831161052857829003601f168201915b50505050509250505092915050565b600060208190529081526040902080546001820180546001600160a01b03909216929161058090610854565b80601f01602080910402602001604051908101604052809291908181526020018280546105ac90610854565b80156105f95780601f106105ce576101008083540402835291602001916105f9565b820191906000526020600020905b8154815290600101906020018083116105dc57829003601f168201915b50505050600283015460038401546004909401549293909290915060ff1685565b60006020828403121561062c57600080fd5b5035919050565b60005b8381101561064e578181015183820152602001610636565b50506000910152565b6000815180845261066f816020860160208601610633565b601f01601f19169290920160200192915050565b6001600160a01b03851681526080602082018190526000906106a790830186610657565b60408301949094525090151560609091015292915050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106e657600080fd5b813567ffffffffffffffff80821115610701576107016106bf565b604051601f8301601f19908116603f01168101908282118183101715610729576107296106bf565b8160405283815286602085880101111561074257600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561077757600080fd5b833567ffffffffffffffff81111561078e57600080fd5b61079a868287016106d5565b9660208601359650604090950135949350505050565b600080604083850312156107c357600080fd5b82359150602083013567ffffffffffffffff8111156107e157600080fd5b6107ed858286016106d5565b9150509250929050565b60208152600061080a6020830184610657565b9392505050565b6001600160a01b038616815260a06020820181905260009061083590830187610657565b6040830195909552506060810192909252151560809091015292915050565b600181811c9082168061086857607f821691505b60208210810361088857634e487b7160e01b600052602260045260246000fd5b50919050565b6bffffffffffffffffffffffff198560601b168152600084516108b8816014850160208901610633565b909101601481019390935250603482015260540192915050565b808201808211156108f357634e487b7160e01b600052601160045260246000fd5b92915050565b601f82111561094357600081815260208120601f850160051c810160208610156109205750805b601f850160051c820191505b8181101561093f5782815560010161092c565b5050505b505050565b815167ffffffffffffffff811115610962576109626106bf565b610976816109708454610854565b846108f9565b602080601f8311600181146109ab57600084156109935750858301515b600019600386901b1c1916600185901b17855561093f565b600085815260208120601f198616915b828110156109da578886015182559484019460019091019084016109bb565b50858210156109f85787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610a1b6040830185610657565b90508260208301529392505050565b60008251610a3c818460208701610633565b919091019291505056fea26469706673582212202be338d9851485481f402e8ced89fa8918c8e2d0a0ac1f9a53312148b9ff787264736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c8063398de7a714610051578063ae5bef011461007d578063f13cccab1461009e578063fce74aea146100be575b600080fd5b61006461005f36600461061a565b6100e2565b6040516100749493929190610683565b60405180910390f35b61009061008b366004610762565b610207565b604051908152602001610074565b6100b16100ac3660046107b0565b610373565b60405161007491906107f7565b6100d16100cc36600461061a565b610554565b604051610074959493929190610811565b60008181526020819052604081206004810154606091839182919060ff166101485760405162461bcd60e51b815260206004820152601460248201527311dc985b9d08191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b8054600282015460038301546001840180546001600160a01b0390941693909291151590839061017790610854565b80601f01602080910402602001604051908101604052809291908181526020018280546101a390610854565b80156101f05780601f106101c5576101008083540402835291602001916101f0565b820191906000526020600020905b8154815290600101906020018083116101d357829003601f168201915b505050505092509450945094509450509193509193565b60008083116102585760405162461bcd60e51b815260206004820152601960248201527f4475726174696f6e206d75737420626520706f73697469766500000000000000604482015260640161013f565b3384428560405160200161026f949392919061088e565b6040516020818303038152906040528051906020012090506000834261029591906108d2565b6040805160a08101825233815260208082018981528284018590526060830188905260016080840181905260008881529283905293909120825181546001600160a01b0319166001600160a01b039091161781559051939450909290918201906102ff9082610948565b506040828101516002830155606083015160038301556080909201516004909101805460ff191691151591909117905551339083907feb87f4561864dd7fd576a0003f6a5c0b611c7d2757e1ca67c05098ccd47da0fe906103639089908690610a08565b60405180910390a3509392505050565b600082815260208190526040902060040154606090839060ff166103d95760405162461bcd60e51b815260206004820152601b60248201527f416363657373206772616e7420646f6573206e6f742065786973740000000000604482015260640161013f565b60008181526020819052604090206002015442106104395760405162461bcd60e51b815260206004820152601860248201527f416363657373206772616e742068617320657870697265640000000000000000604482015260640161013f565b60008481526020819052604090206003810154156104bd578060030154846040516020016104679190610a2a565b60405160208183030381529060405280519060200120146104bd5760405162461bcd60e51b815260206004820152601060248201526f125b9d985b1a59081c185cdcdddbdc9960821b604482015260640161013f565b8060010180546104cc90610854565b80601f01602080910402602001604051908101604052809291908181526020018280546104f890610854565b80156105455780601f1061051a57610100808354040283529160200191610545565b820191906000526020600020905b81548152906001019060200180831161052857829003601f168201915b50505050509250505092915050565b600060208190529081526040902080546001820180546001600160a01b03909216929161058090610854565b80601f01602080910402602001604051908101604052809291908181526020018280546105ac90610854565b80156105f95780601f106105ce576101008083540402835291602001916105f9565b820191906000526020600020905b8154815290600101906020018083116105dc57829003601f168201915b50505050600283015460038401546004909401549293909290915060ff1685565b60006020828403121561062c57600080fd5b5035919050565b60005b8381101561064e578181015183820152602001610636565b50506000910152565b6000815180845261066f816020860160208601610633565b601f01601f19169290920160200192915050565b6001600160a01b03851681526080602082018190526000906106a790830186610657565b60408301949094525090151560609091015292915050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106e657600080fd5b813567ffffffffffffffff80821115610701576107016106bf565b604051601f8301601f19908116603f01168101908282118183101715610729576107296106bf565b8160405283815286602085880101111561074257600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561077757600080fd5b833567ffffffffffffffff81111561078e57600080fd5b61079a868287016106d5565b9660208601359650604090950135949350505050565b600080604083850312156107c357600080fd5b82359150602083013567ffffffffffffffff8111156107e157600080fd5b6107ed858286016106d5565b9150509250929050565b60208152600061080a6020830184610657565b9392505050565b6001600160a01b038616815260a06020820181905260009061083590830187610657565b6040830195909552506060810192909252151560809091015292915050565b600181811c9082168061086857607f821691505b60208210810361088857634e487b7160e01b600052602260045260246000fd5b50919050565b6bffffffffffffffffffffffff198560601b168152600084516108b8816014850160208901610633565b909101601481019390935250603482015260540192915050565b808201808211156108f357634e487b7160e01b600052601160045260246000fd5b92915050565b601f82111561094357600081815260208120601f850160051c810160208610156109205750805b601f850160051c820191505b8181101561093f5782815560010161092c565b5050505b505050565b815167ffffffffffffffff811115610962576109626106bf565b610976816109708454610854565b846108f9565b602080601f8311600181146109ab57600084156109935750858301515b600019600386901b1c1916600185901b17855561093f565b600085815260208120601f198616915b828110156109da578886015182559484019460019091019084016109bb565b50858210156109f85787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610a1b6040830185610657565b90508260208301529392505050565b60008251610a3c818460208701610633565b919091019291505056fea26469706673582212202be338d9851485481f402e8ced89fa8918c8e2d0a0ac1f9a53312148b9ff787264736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
